# VueRouter

1. VueRouter是什么?
   1. 他是一个npm包
   2. 他是Vue的可扩展插件(可以使用Vue.use)
   3. 它可以实现单页面应用(SPA)
      1. 问题:请问什么是单页面应用?
         1. 一个html文件就是一个页面,整个项目中,只有一个html文件,就是单页面项目
            1. 内部会使用DOM的CRUD方法,对html中的内容进行修改操作,实现一个html文件,显示多种页面的感觉
      2. 问题:请问不使用VueRouter,能否实现单页面应用?
         1. 可以,甚至不使用框架,也可以实现单页面应用
         2. 虽然使用js或者jq等东西,也能实现单页面应用,但是由于需要操作的DOM节点太多了,所以很难去做
      3. 问题:请问大家是否做过多页面应用?
         1. 例如:尚品汇/大疆官网
         2. 多页面应用其实就是说,一个项目中,具有很多个html文件,对于这些文件之前的切换跳转,是使用a标签实现的
2. VueRouter提供给我们什么东西? 
   1. 构造函数
      1. 通过暴露的构造函数,可以创建一个路由器实例对象
   2. 全局组件
      1. router-view
         1. 该组件会根据当前路由地址的变化,显示对应的路由组件
         2. **原理:其实router-view组件中,使用到了响应式原理**
            1. **只要路径数据发生了变化,router-view就会自动更新,展示最新的内容**
      2. router-link
         1. 默认生成一个a标签,用户点击a标签,就会发生路由跳转
         2. **声明式导航的定义:通过标签的形式,引导用户进行跳转**
         3. **原理:**
            1. **默认生成一个a标签**
            2. **然后给该标签绑定点击事件**
            3. **在事件回调函数中,禁用浏览器的默认行为,并且调用编程式导航实现路由跳转**
   3. 公共对象
      1. $router
         1. 这是一个路由器对象,它是用来管理路由的
         2. 他会给开发者提供一些操作路由的API,例如:push,replace,go,back等
         3. push方法
            1. 该方法可以控制路由的跳转,并且是在真正的控制浏览器的历史记录栈
            2. **push方法会保留上一个历史记录,也就是说可以回退到上个路由**
            3. **项目中,绝大多数的路由跳转都是这类**
            4. **编程式导航的定义:通过调用js的API,来强行控制用户的跳转**
            5. **原理:**
               1. **hash模式下,其实是使用了location.assign(路径),来控制页面的路由的跳转**
               2. **history模式下,其实是使用了history.pushState({},"",路径),来控制页面的路由跳转**
         4. replace方法
            1. 该方法可以控制路由的跳转,并且是在真正的控制浏览器的历史记录栈
            2. **replace方法不会保留上个历史记录,会对其进行覆盖处理,也就是说无法回到上个路由**
            3. **项目中,少部分场景会使用到该方法,例如:login页面,order页面,pay页面等****
            4. **原理:**
               1. **hash模式下,其实是使用了location.replace(路径),来控制页面的路由的跳转**
               2. **history模式下,其实是使用了history.replaceState({},"",路径),来控制页面的路由跳转**
      2. $route
         1. 这是一个路由对象,它用于记录当前路由的重要信息
         2. 他会给开发者提供一些当前路由的参数信息
         3. fullpath属性
            1. 存储这当前路由的完整地址
         4. query
            1. 他是URL传参的一员
            2. 语法:"/home?userId=100"
            3. 可以将参数拼接在路径中进行传递
         5. params
            1. 他也是URL传参的一员
            2. 语法:"/home/100"
            3. 可以将参数拼接在路径中进行传递
            4. 想使用这种传参方式,必须在声明路由对象的时候,在path中拼接占位符
               1. 例如:path:"/home/:id"
         6. meta
            1. 他不是URL传参的一员
            2. 该方案传递参数,需要在声明路由对象的时候进行添加
               1. 将需要传递的数据,写在与path,component属性同级的地方
3. 我们提供给VueRouter什么东西?
   1. 配置对象
      1. mode属性
         1. 属性值:"hash"||"history"
         2. hash
            1. 可以开启路由器的hash模式,路径中会出现#号
            2. **原理:**
               1. **通过给window对象绑定事件监听,来监视地址栏的变化**
                  1. **事件名称:hashchange**
               2. **在事件回调函数被触发之后,我们可以读取location对象的hash属性,获取到当前最新的路由地址**
               3. **然后将得到的路由地址,更新给响应式属性path,来导致对应组件更新,显示最新结果** 
         3. history
            1. 可以开启路由器的history模式,路径中只有/没有#
            2. **原理:**
               1. **通过给window对象绑定事件监听,来监视地址栏的变化**
                  1. **事件名称:popstate**
               2. **在事件回调函数被触发之后,我们可以读取location对象的pathname属性,获取到当前最新的路由地址**
               3. **然后将得到的路由地址,更新给响应式属性path,来导致对应组件更新,显示最新结果** 
      2. routes属性
         1. 数据类型:routeObj[ ]
         2. 路由对象中的重要属性
            1. path
               1. 声明当前路由的地址
            2. component
               1. 如果当前浏览器地址与path相同,需要显示的路由组件