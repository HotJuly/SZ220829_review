# Vue生命周期

1. Vue2一共具有多少个生命周期?
   1. 一共具有11个,其中常用8个
2. 阶段划分
   1. 初始化阶段
      1. beforeCreate
      2. created
         1. 发送请求
            1. 由于js引擎是单线程解析代码的,所以created发请求会比mounted更早,相对的返回响应应该也更早
         2. 注意:不要在这里做大量的逻辑操作
            1. 如果在这里阻塞10秒钟,页面就会晚10秒钟渲染
      3. beforeMount
      4. mounted
         1. 发送请求
         2. 操作DOM结构
            1. 只有这里能获取到DOM节点
            2. 例如:Swiper或者一些滑动库
         3. 绑定事件
         4. 开启定时器
         5. 总结:这里由于组件已经挂载结束了,所以可以做到任何的事情,而且此处执行代码,对页面的影响较小
   2. 更新阶段
      1. beforeUpdate
         1. 此处获取到的数据一定是最新的,但是DOM是旧的
      2. updated
         1. 此处获取到的数据一定是最新的,DOM也是最新的
         2. 例如:二次操作真实DOM
   3. 卸载阶段
      1. beforeDestroy
         1. 清除定时器
         2. 解绑事件
            1. 使用@绑定的原生DOM事件,是否需要手动解绑?
               1. 不需要,因为组件卸载的时候,它对应的DOM节点,也会销毁
               2. 除了垃圾IE以外,会出现DOM节点销毁了,但是事件还保留着,占用着内存
            2. 当前组件使用@或者$on语法绑定的自定义事件,是否需要手动解绑?
               1. 不需要,因为Vue组件会使用$listeners对象,收集当前组件实例所有的自定义事件
               2. Vue会帮我们自动解绑这些自定义事件
            3. 使用onclick或者addEventListener方法绑定的原生DOM事件,是否需要手动解绑?
               1. 需要,因为组件虽然卸载了,但是window和document对象还没有销毁,那么在他们身上绑定的事件都会遗留
            4. 使用on语法绑定的全局事件总线,是否需要手动解绑?
               1. 需要,全局事件总线对象不会随着组件销毁而销毁,所以他会一直存活,那么在他身上绑定的事件,就会出现遗留
         3. 面试题:程序宕机的可能性(内存溢出)
            1. 闭包没有及时释放
            2. 绑定在window或者document身上的事件没有及时解绑
            3. 在组件销毁的时候,没有解绑全局事件总线的事件
            4. 声明了太多的全局变量
      2. destroyed
   4. keep-alive专用
      1. activated(激活)
      2. deactivated(失活)
   5. 捕获后代组件报错
      1. errorCaptured
   6. 后端渲染专用
      1. serverPrefetch
      2. 前端渲染就是服务器会返回一个空的html,然后在浏览器端对页面进行结构的添加
         1. 所以无法做到SEO优化,因为搜索引擎扫描html的时候,里面没有节点
      3. 后端渲染就是服务器会返回一个完整的html,也就是说结构的添加是在服务器端,使用vue添加的,
         1. 所以可以实现SEO优化,因为搜索引擎扫描html的时候,里面是有完整节点的
      4. 最终总结:后端渲染和前端渲染用的都是Vue.js,只不过他们唯一的区别在于第一次结构的添加,一个在浏览器端,一个在服务器端,后续的操作都相同